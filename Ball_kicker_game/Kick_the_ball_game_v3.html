

  

  <div id='mybox'>
    <canvas>
    </canvas>
    <div>
  
    <!-- FULL SCREEN ON DOUBLECLICK SCRIPT -->
    <script type="text/javascript">
    // checks if the window is already in fullscreen 
    function getFullscreenElement(){ // returns true if in fullscreen
     return document.fullscreenElement 
     || document.msFullscreenElement 
     || document.webkitFullscreenElement 
     || document.mozFullscreenElement;
    }
  
    // DOUBLE CLICK TO GO TO FULLSCREEN
    // document.addEventListener('dblclick',()=> {toggleFullscreen()})
    // TOGGLE FUNCTION between fullscreen and exit fullscreen
    function toggleFullscreen(){
    //  if (getFullscreenElement()){// if it is in full screen 
    //    //document.exitFullscreen(); // Exits fullscreen
    //  }else {
          // ACTUAL COMMAND to go to full screen
        document.getElementById('mybox').requestFullscreen().catch(console.log);
    //  }
    }
    // EVENT LISTENER to detect if the fullscreen has changed
    document.addEventListener('fullscreenchange',()=>{console.log('fullscreen changed')})
    // FULL SCREEN ON DOUBLE CLICK SCRIPT ENDS 
    </script>
    <script>
  
  //  A SIMPLE GAME USING <150 LINES OF JAVASCRIPT
  
  // ------ BASICS OF CANVAS
  console.log('Hello player. Ready to kick some balls?')
  // getting the canvas by using query selector
  var canvas =document.querySelector('canvas');
  // changing the width and height of the canvas window
  canvas.width= window.innerWidth-15;
  canvas.height = window.innerHeight-15;
  // console.log(canvas)
  // getting the context of the canvas
  var c=canvas.getContext('2d');
  // c is going to be used so very often. 

  // ------GLOBAL VARIABLES
  var mouse = {
    x: undefined,    y: undefined
  }
  var mouseInfluence=30;
  var minLimit=4;
  var maxLimit=50;
  var kickPower=1;
  var friction=0.01;
  var x=canvas.width/2;
  var y=canvas.height/2;
  var r=30;
  var dx=0;
  var dy=0;
  
  
  // -------ADDING EVENT LISTENERS
  // This will get be fired each time an event occurs
  // An event may be a mouse 
  // whenever there is a mouse move, this function is called
  window.addEventListener('mousemove',
    function(event){
          //console.log(event)
          mouse.x=event.x;
          mouse.y=event.y;
      }); // and the mouse position is stored in mouse.x & mouse.y
  // If the window is resized, the canvas is resized.
  window.addEventListener('touchmove', (e) => {
	e.preventDefault();
	mouse.x=e.touches[0].clientX;
	mouse.y=e.touches[0].clientY;
		//alert('Touch end, x value'+e.x)
	});
  window.addEventListener('touchstart', (e) => {
	e.preventDefault();
	mouse.x=e.touches[0].clientX;
	mouse.y=e.touches[0].clientY;
		//alert('Touch end, x value'+e.x)
	});
  window.addEventListener('touchend', (e) => {
	e.preventDefault();
	mouse.x=e.touches[0].clientX;
	mouse.y=e.touches[0].clientY;
		//alert('Touch end, x value'+e.x)
	});
  window.addEventListener('touch', (e) => {
	e.preventDefault();
	mouse.x=e.touches[0].clientX;
	mouse.y=e.touches[0].clientY;
		//alert('Touch end, x value'+e.x)
	});


  window.addEventListener('resize',
    function(event){
      canvas.width = window.innerWidth-15;
      canvas.height = window.innerHeight-15;
    })
  // Defining Circle object
  function Circle(x,y,dx,dy,r){
      this.x=x; // position in x
      this.y=y; // position in y
      this.dx=dx; // velocity in x
      this.dy=dy; // velocity in y
      this.r=r; // radius of the circle
      // create a method inside the object
      // in this case an anonymous function without a name
      this.draw = function(){
          // drawing the circle on cavas
          c.beginPath();
          c.arc(this.x,this.y,this.r, 0, Math.PI*2, false)
          c.strokeStyle = 'blue';
          c.stroke();
          c.fillStyle='rgba(255,0,0,0.8)' ;
          c.fill();
          // console.log('drawn')
        }
        this.update = function(){
          // a function that moves the Circle
          this.draw();
          this.x=this.x+this.dx;
          this.y=this.y+this.dy;
          // updating the x position
          if (this.x+this.r>canvas.width ){
           this.dx=-this.dx;
           this.x=this.x-2*(this.x+this.r-canvas.width);
         }
         else if ( this.x-this.r<0){
          this.dx=-this.dx;
          this.x=this.x+2*(this.r-this.x);
        }
         // updating the y position
         if (this.y-this.r<0 ) {
           this.dy=-this.dy;
           this.y=this.y+2*(this.r-this.y);
         }
         else if (this.y+this.r>canvas.height){
          this.dy=-this.dy;
          this.y=this.y-2*(this.y+this.r-canvas.height);
  
        }
  
         // Giving velocity to the circle when mouse is hovered 
         if ( ((this.x-mouse.x)**2+(this.y-mouse.y)**2) < mouseInfluence**2) {
          this.dx=this.dx+kickPower*(this.x-mouse.x);
          this.dy=this.dy+kickPower*(this.y-mouse.y);
        }
  
          // friction to slow down the circle to a stop
          this.dx=this.dx*(1-friction);
          this.dy=this.dy*(1-friction);
  
        }
  
      }
  
  // Creating a new circle object
  var ball = new Circle(x,y,dx,dy,r);
  
  
  function animate(){  
    c.clearRect(0,0,canvas.width,canvas.height)
    c.fillStyle= '#88ff88';
    c.fillRect(0,0,canvas.width,canvas.height)
  
    ball.update();
    requestAnimationFrame(animate)
  }
  // calling the animation
  animate();
  </script>
  
  